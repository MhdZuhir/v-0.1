{{!-- views/partials/core-resource-display.handlebars --}}
{{#if isCoreResource}}
<div class="core-resource-container">
  <div class="core-header">
    <div class="resource-badge {{resourceType}}-badge">{{resourceType}}</div>
    <div class="namespace-badge">{{namespace}}</div>
  </div>
  
  <div class="core-description">
    <p>{{description}}</p>
  </div>
  
  {{#if coreProperties.length}}
    <div class="property-group">
      <div class="property-group-header">Specifikation</div>
      <div class="property-group-content">
        <table class="property-table">
          {{#each coreProperties}}
            <tr>
              <td class="property-name">{{this.name}}</td>
              <td>{{this.value}}</td>
            </tr>
          {{/each}}
        </table>
      </div>
    </div>
  {{/if}}
  
  {{#if coreExamples.length}}
    <div class="property-group">
      <div class="property-group-header">Exempelanvändning</div>
      <div class="property-group-content">
        <div class="examples-block">
          <pre class="examples-code">{{#each coreExamples}}{{this}}
{{/each}}</pre>
        </div>
      </div>
    </div>
  {{/if}}
  
  {{#if coreRelated.length}}
    <div class="property-group">
      <div class="property-group-header">Relaterade resurser</div>
      <div class="property-group-content">
        <div class="related-core-resources">
          {{#each coreRelated}}
            <a href="/resource?uri={{encodeURIComponent this.uri}}&showLabels={{../showLabels}}" class="related-badge">
              {{this.label}}
            </a>
          {{/each}}
        </div>
      </div>
    </div>
  {{/if}}
</div>

<style>
  .core-resource-container {
    margin-bottom: 30px;
    padding-bottom: 20px;
    border-bottom: 2px dashed #eaecf0;
  }
  
  .core-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 15px;
  }
  
  .resource-badge {
    display: inline-block;
    padding: 5px 10px;
    border-radius: 4px;
    font-size: 14px;
    font-weight: 600;
    color: white;
  }
  
  .Class-badge {
    background-color: #2196F3;
  }
  
  .Property-badge {
    background-color: #4CAF50;
  }
  
  .Resource-badge {
    background-color: #673AB7;
  }
  
  .namespace-badge {
    display: inline-block;
    padding: 5px 10px;
    border-radius: 4px;
    font-size: 14px;
    background-color: #f5f5f5;
    border: 1px solid #ddd;
    color: #666;
  }
  
  .core-description {
    background-color: #f9f9fa;
    padding: 15px;
    border-left: 4px solid #0645ad;
    border-radius: 0 4px 4px 0;
    margin-bottom: 20px;
    font-size: 1.1em;
    line-height: 1.5;
  }
  
  .examples-block {
    background-color: #f5f5f5;
    border-radius: 4px;
    padding: 0;
    margin: 10px 0;
    overflow: hidden;
  }
  
  .examples-code {
    font-family: monospace;
    padding: 15px;
    margin: 0;
    overflow-x: auto;
    font-size: 14px;
    line-height: 1.5;
    background-color: #2d2d2d;
    color: #f8f8f2;
  }
  
  .related-core-resources {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 10px;
  }
  
  .related-badge {
    display: inline-block;
    padding: 8px 12px;
    border-radius: 4px;
    font-size: 14px;
    background-color: #e3f2fd;
    color: #0645ad;
    text-decoration: none;
    border: 1px solid #bbdefb;
    transition: all 0.2s ease;
  }
  
  .related-badge:hover {
    background-color: #bbdefb;
    text-decoration: none;
  }
</style>
{{/if}}

{{!-- Namespaces list information --}}
{{#if commonNamespaces}}
  <div class="namespace-info" style="display: none;">
    <div class="property-group">
      <div class="property-group-header">Vanliga namespaces</div>
      <div class="property-group-content">
        <table class="namespace-table">
          <thead>
            <tr>
              <th>Prefix</th>
              <th>URI</th>
              <th>Beskrivning</th>
            </tr>
          </thead>
          <tbody>
            {{#each commonNamespaces}}
              <tr>
                <td class="namespace-prefix">{{this.prefix}}</td>
                <td class="namespace-uri">{{this.uri}}</td>
                <td>{{this.description}}</td>
              </tr>
            {{/each}}
          </tbody>
        </table>
      </div>
    </div>
  </div>
{{/if}}

{{!-- Toggle button for showing namespace info --}}
<div class="namespace-toggle">
  <button id="showNamespaces" class="namespace-toggle-btn">Visa vanliga namespaces</button>
</div>

<script>
  // Add toggle functionality for namespaces info
  document.addEventListener('DOMContentLoaded', function() {
    const namespaceToggle = document.getElementById('showNamespaces');
    const namespaceInfo = document.querySelector('.namespace-info');
    
    if (namespaceToggle && namespaceInfo) {
      namespaceToggle.addEventListener('click', function() {
        const isVisible = namespaceInfo.style.display !== 'none';
        
        if (isVisible) {
          namespaceInfo.style.display = 'none';
          namespaceToggle.textContent = 'Visa vanliga namespaces';
        } else {
          namespaceInfo.style.display = 'block';
          namespaceToggle.textContent = 'Dölj namespaces';
        }
      });
    }
  });
</script>

<style>
  .namespace-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 14px;
  }
  
  .namespace-table th,
  .namespace-table td {
    padding: 8px 12px;
    border: 1px solid #eaecf0;
    text-align: left;
  }
  
  .namespace-table th {
    background-color: #f5f7fa;
    font-weight: 600;
  }
  
  .namespace-prefix {
    font-weight: 600;
    color: #0645ad;
    font-family: monospace;
    font-size: 16px;
  }
  
  .namespace-uri {
    font-family: monospace;
    word-break: break-all;
    font-size: 12px;
    color: #555;
  }
  
  .namespace-toggle {
    margin: 20px 0;
    text-align: center;
  }
  
  .namespace-toggle-btn {
    padding: 8px 15px;
    background-color: #f5f7fa;
    border: 1px solid #ddd;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s ease;
  }
  
  .namespace-toggle-btn:hover {
    background-color: #e3f2fd;
    border-color: #bbdefb;
  }
</style>