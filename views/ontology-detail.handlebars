<body>
  <div class="page-container">
    <!-- Table of Contents Sidebar -->
    <div class="toc-sidebar">
      <div class="toc-content">
        <h3>Table of Contents</h3>
        <ul class="toc-list">
          <li><a href="#metadata" class="toc-active">Metadata</a></li>
          <li><a href="#overview">Overview</a></li>
          <li>
            <a href="#classes">Classes</a>
            <ul class="toc-sublist">
              <li><a href="#class-digital-product-passport">Digital Product Passport</a></li>
              <li><a href="#class-product">Product</a></li>
              <li><a href="#class-material-composition">Material Composition</a></li>
              <li><a href="#class-circularity-metric">Circularity Metric</a></li>
            </ul>
          </li>
          <li>
            <a href="#object-properties">Object Properties</a>
            <ul class="toc-sublist">
              <li><a href="#prop-describes">describes</a></li>
              <li><a href="#prop-has-part">has part</a></li>
              <li><a href="#prop-has-passport">has passport</a></li>
              <li><a href="#prop-has-material">has material</a></li>
            </ul>
          </li>
          <li>
            <a href="#annotation-properties">Annotation Properties</a>
            <ul class="toc-sublist">
              <li><a href="#annot-contributor">contributor</a></li>
              <li><a href="#annot-created">created</a></li>
              <li><a href="#annot-creator">creator</a></li>
              <li><a href="#annot-description">description</a></li>
              <li><a href="#annot-license">license</a></li>
              <li><a href="#annot-title">title</a></li>
              <li><a href="#annot-prefix">preferred namespace prefix</a></li>
              <li><a href="#annot-uri">preferred namespace uri</a></li>
            </ul>
          </li>
          <li><a href="#namespaces">Namespaces</a></li>
          <li><a href="#legend">Legend</a></li>
          <li><a href="#downloads">Downloads</a></li>
        </ul>
      </div>
    </div>

    <!-- Main Content -->
    <div class="ontology-container">
      <h1>Digital Product Passport Ontology</h1>

      <h2 id="metadata">Metadata</h2>
      <div class="metadata-section">
        <p><strong>IRI</strong><br>
        <code>http://www.w3id.org/dpp/digital-product-passport/1.0</code></p>

        <p><strong>Title</strong><br>
        Digital Product Passport Ontology</p>

        <p><strong>Creator</strong><br>
        EU Circular Economy Initiative</p>

        <p><strong>Contributor</strong><br>
        Sustainability Research Group<br>
        Product Lifecycle Management Consortium
        </p>

        <p><strong>Date Created</strong><br>
        2024-03-15</p>

        <p><strong>Date Modified</strong><br>
        2024-04-10</p>

        <p><strong>License</strong><br>
        <a href="https://creativecommons.org/licenses/by/4.0/">https://creativecommons.org/licenses/by/4.0/</a></p>

        <p><strong>Version</strong><br>
        1.0.0</p>

        <p><strong>Preferred Namespace Prefix</strong><br>
        dpp</p>

        <p><strong>Preferred Namespace Uri</strong><br>
        <code>http://www.w3id.org/dpp/digital-product-passport/1.0#</code></p>

        <p><strong>Description</strong><br>
        An ontology for representing Digital Product Passports (DPP), defining concepts and relationships for tracking product information throughout the lifecycle, with focus on sustainability metrics, material composition, and circular economy principles.</p>
      </div>

      <h2 id="overview">Overview</h2>
      <div class="overview-section">
        <p><strong>Figure 1: </strong>Ontology overview</p>
        
        <div class="stats-summary">
          <div class="stat-item">
            <span class="stat-value">24</span> Classes
          </div>
          <div class="stat-item">
            <span class="stat-value">36</span> Properties
          </div>
          <div class="stat-item">
            <span class="stat-value">15</span> Individuals
          </div>
        </div>
        
        <p>The Digital Product Passport Ontology provides a standard vocabulary for creating digital product passports that accompany physical products throughout their lifecycle. These passports contain vital information about a product's composition, environmental impact, repair instructions, and end-of-life considerations, supporting circular economy principles and regulatory compliance with the EU's Circular Economy Action Plan.</p>
      </div>

      <h2 id="classes">Classes</h2>
      <div class="classes-section">
        <div class="filter-control">
          <input type="text" id="classFilter" placeholder="Filter classes..." class="filter-input">
        </div>
        
        <div class="entity-items">
          <div id="class-digital-product-passport" class="entity-item class-item">
            <h3>Digital Product Passport <sup>c</sup></h3>
            <p><strong>IRI</strong><br><code>http://www.w3id.org/dpp/digital-product-passport/1.0#DigitalProductPassport</code></p>
            
            <p><strong>Description</strong><br>
            A digital representation of product information throughout its lifecycle, containing data on composition, environmental impact, and circularity aspects.</p>
            
            <p><strong>In Domain Of</strong><br>
            describes, hasIdentifier, hasCertification, hasTimestamp</p>
            
            <p><strong>In Range Of</strong><br>
            hasPassport</p>
          </div>

          <div id="class-product" class="entity-item class-item">
            <h3>Product <sup>c</sup></h3>
            <p><strong>IRI</strong><br><code>http://www.w3id.org/dpp/digital-product-passport/1.0#Product</code></p>
            
            <p><strong>Description</strong><br>
            A physical product that is tracked via a Digital Product Passport.</p>
            
            <p><strong>In Domain Of</strong><br>
            hasPassport, hasMaterialComposition, hasManufacturer, hasProductCategory</p>
            
            <p><strong>In Range Of</strong><br>
            describes, hasPart</p>
          </div>

          <div id="class-material-composition" class="entity-item class-item">
            <h3>Material Composition <sup>c</sup></h3>
            <p><strong>IRI</strong><br><code>http://www.w3id.org/dpp/digital-product-passport/1.0#MaterialComposition</code></p>
            
            <p><strong>Description</strong><br>
            The material components and their quantities in a product.</p>
            
            <p><strong>In Domain Of</strong><br>
            hasMaterial, hasWeight, hasPercentage</p>
            
            <p><strong>In Range Of</strong><br>
            hasMaterialComposition</p>
          </div>

          <div id="class-circularity-metric" class="entity-item class-item">
            <h3>Circularity Metric <sup>c</sup></h3>
            <p><strong>IRI</strong><br><code>http://www.w3id.org/dpp/digital-product-passport/1.0#CircularityMetric</code></p>
            
            <p><strong>Description</strong><br>
            Metrics related to circular economy principles, such as recyclability, repairability, and durability scores.</p>
            
            <p><strong>In Domain Of</strong><br>
            hasScore, hasCalculationMethod, hasTimestamp</p>
            
            <p><strong>In Range Of</strong><br>
            hasCircularityMetric</p>
          </div>
        </div>
      </div>

      <h2 id="object-properties">Object Properties</h2>
      <div class="properties-section">
        <div class="filter-control">
          <input type="text" id="propFilter" placeholder="Filter properties..." class="filter-input">
        </div>
        
        <div class="entity-items">
          <div id="prop-describes" class="entity-item property-item">
            <h3>describes <sup>op</sup></h3>
            <p><strong>IRI</strong><br><code>http://www.w3id.org/dpp/digital-product-passport/1.0#describes</code></p>
            
            <p><strong>Description</strong><br>
            Relates a Digital Product Passport to the Product it describes.</p>
            
            <p><strong>Domain</strong><br>
            <a href="#class-digital-product-passport">Digital Product Passport</a> <sup>c</sup></p>
            
            <p><strong>Range</strong><br>
            <a href="#class-product">Product</a> <sup>c</sup></p>
          </div>

          <div id="prop-has-part" class="entity-item property-item">
            <h3>has part <sup>op</sup></h3>
            <p><strong>IRI</strong><br><code>http://www.w3id.org/dpp/digital-product-passport/1.0#hasPart</code></p>
            
            <p><strong>Description</strong><br>
            Relates a product to its component parts.</p>
            
            <p><strong>Domain</strong><br>
            <a href="#class-product">Product</a> <sup>c</sup></p>
            
            <p><strong>Range</strong><br>
            <a href="#class-product">Product</a> <sup>c</sup></p>
          </div>

          <div id="prop-has-passport" class="entity-item property-item">
            <h3>has passport <sup>op</sup></h3>
            <p><strong>IRI</strong><br><code>http://www.w3id.org/dpp/digital-product-passport/1.0#hasPassport</code></p>
            
            <p><strong>Description</strong><br>
            Relates a Product to its Digital Product Passport.</p>
            
            <p><strong>Domain</strong><br>
            <a href="#class-product">Product</a> <sup>c</sup></p>
            
            <p><strong>Range</strong><br>
            <a href="#class-digital-product-passport">Digital Product Passport</a> <sup>c</sup></p>
          </div>

          <div id="prop-has-material" class="entity-item property-item">
            <h3>has material <sup>op</sup></h3>
            <p><strong>IRI</strong><br><code>http://www.w3id.org/dpp/digital-product-passport/1.0#hasMaterial</code></p>
            
            <p><strong>Description</strong><br>
            Relates a Material Composition to a specific material.</p>
            
            <p><strong>Domain</strong><br>
            <a href="#class-material-composition">Material Composition</a> <sup>c</sup></p>
            
            <p><strong>Range</strong><br>
            Material <sup>c</sup></p>
          </div>
        </div>
      </div>

      <h2 id="annotation-properties">Annotation Properties</h2>
      <div class="annotation-props-section">
        <div class="entity-items">
          <div id="annot-contributor" class="entity-item">
            <h3>
              <a href="#annot-contributor" class="property-title-link">
                contributor <sup>ap</sup>
              </a>
            </h3>
            <p><strong>IRI</strong>
              <a href="#annot-contributor" class="iri-link">
                <code>http://purl.org/dc/terms/contributor</code>
              </a>
            </p>
            <div class="property-description">
              <p>An entity responsible for making contributions to the resource.</p>
            </div>
          </div>
          
          <div id="annot-creator" class="entity-item">
            <h3>
              <a href="#annot-creator" class="property-title-link">
                creator <sup>ap</sup>
              </a>
            </h3>
            <p><strong>IRI</strong>
              <a href="#annot-creator" class="iri-link">
                <code>http://purl.org/dc/terms/creator</code>
              </a>
            </p>
            <div class="property-description">
              <p>An entity primarily responsible for making the resource.</p>
            </div>
          </div>
          
          <div id="annot-description" class="entity-item">
            <h3>
              <a href="#annot-description" class="property-title-link">
                description <sup>ap</sup>
              </a>
            </h3>
            <p><strong>IRI</strong>
              <a href="#annot-description" class="iri-link">
                <code>http://purl.org/dc/terms/description</code>
              </a>
            </p>
            <div class="property-description">
              <p>An account of the resource. May include an abstract, table of contents, or free-text account of the resource.</p>
            </div>
          </div>
          
          <div id="annot-created" class="entity-item">
            <h3>
              <a href="#annot-created" class="property-title-link">
                created <sup>ap</sup>
              </a>
            </h3>
            <p><strong>IRI</strong>
              <a href="#annot-created" class="iri-link">
                <code>http://purl.org/dc/terms/created</code>
              </a>
            </p>
            <div class="property-description">
              <p>Date of creation of the resource.</p>
            </div>
          </div>
          
          <div id="annot-license" class="entity-item">
            <h3>
              <a href="#annot-license" class="property-title-link">
                license <sup>ap</sup>
              </a>
            </h3>
            <p><strong>IRI</strong>
              <a href="#annot-license" class="iri-link">
                <code>http://purl.org/dc/terms/license</code>
              </a>
            </p>
            <div class="property-description">
              <p>A legal document giving official permission to do something with the resource.</p>
            </div>
          </div>
          
          <div id="annot-title" class="entity-item">
            <h3>
              <a href="#annot-title" class="property-title-link">
                title <sup>ap</sup>
              </a>
            </h3>
            <p><strong>IRI</strong>
              <a href="#annot-title" class="iri-link">
                <code>http://purl.org/dc/terms/title</code>
              </a>
            </p>
            <div class="property-description">
              <p>A name given to the resource.</p>
            </div>
          </div>
          
          <div id="annot-prefix" class="entity-item">
            <h3>
              <a href="#annot-prefix" class="property-title-link">
                preferred namespace prefix <sup>ap</sup>
              </a>
            </h3>
            <p><strong>IRI</strong>
              <a href="#annot-prefix" class="iri-link">
                <code>http://purl.org/vocab/vann/preferredNamespacePrefix</code>
              </a>
            </p>
            <div class="property-description">
              <p>The preferred namespace prefix to use when using terms from this vocabulary in an XML document.</p>
            </div>
          </div>
          
          <div id="annot-uri" class="entity-item">
            <h3>
              <a href="#annot-uri" class="property-title-link">
                preferred namespace uri <sup>ap</sup>
              </a>
            </h3>
            <p><strong>IRI</strong>
              <a href="#annot-uri" class="iri-link">
                <code>http://purl.org/vocab/vann/preferredNamespaceUri</code>
              </a>
            </p>
            <div class="property-description">
              <p>The preferred namespace URI to use when using terms from this vocabulary in an XML document.</p>
            </div>
          </div>
        </div>
      </div>

      <h2 id="namespaces">Namespaces</h2>
      <div class="namespaces-section">
        <table class="namespaces-table">
          <tr>
            <td><strong>dpp</strong></td>
            <td><code>http://www.w3id.org/dpp/digital-product-passport/1.0#</code></td>
          </tr>
          <tr>
            <td><strong>dcterms</strong></td>
            <td><code>http://purl.org/dc/terms/</code></td>
          </tr>
          <tr>
            <td><strong>owl</strong></td>
            <td><code>http://www.w3.org/2002/07/owl#</code></td>
          </tr>
          <tr>
            <td><strong>prov</strong></td>
            <td><code>http://www.w3.org/ns/prov#</code></td>
          </tr>
          <tr>
            <td><strong>rdf</strong></td>
            <td><code>http://www.w3.org/1999/02/22-rdf-syntax-ns#</code></td>
          </tr>
          <tr>
            <td><strong>rdfs</strong></td>
            <td><code>http://www.w3.org/2000/01/rdf-schema#</code></td>
          </tr>
          <tr>
            <td><strong>vann</strong></td>
            <td><code>http://purl.org/vocab/vann/</code></td>
          </tr>
        </table>
      </div>

      <h2 id="legend">Legend</h2>
      <div class="legend-section">
        <p><sup>c</sup> Classes <sup>op</sup> Object Properties <sup>ap</sup> Annotation Properties</p>
      </div>
      
      <div id="downloads" class="download-section">
        <h2>Downloads</h2>
        <div class="download-links">
          <a href="/ontology/download?uri=http://www.w3id.org/dpp/digital-product-passport/1.0&format=rdf" class="download-link" download="ontology.rdf">
            Download as RDF/XML
          </a>
          <a href="/ontology/download?uri=http://www.w3id.org/dpp/digital-product-passport/1.0&format=ttl" class="download-link" download="ontology.ttl">
            Download as Turtle
          </a>
          <a href="/ontology/download?uri=http://www.w3id.org/dpp/digital-product-passport/1.0&format=nt" class="download-link" download="ontology.nt">
            Download as N-Triples
          </a>
          <a href="/ontology/download?uri=http://www.w3id.org/dpp/digital-product-passport/1.0&format=jsonld" class="download-link" download="ontology.jsonld">
            Download as JSON-LD
          </a>
        </div>
      </div>
    
      <div class="display-control">
        <label for="displayToggle">Show human-readable labels:</label>
        <label class="toggle-switch">
          <input type="checkbox" id="displayToggle" checked>
          <span class="toggle-slider"></span>
        </label>
        <span class="toggle-label">On</span>
      </div>
    
      <div class="navigation-links">
        <a href="/" class="nav-link">Back to Home</a>
        <a href="/ontology/products?uri=http://www.w3id.org/dpp/digital-product-passport/1.0" class="nav-link">View Related Products</a>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize filtering
      initFilter('#classFilter', '.class-item');
      initFilter('#propFilter', '.property-item');
      
      // Update display toggle
      const displayToggle = document.getElementById('displayToggle');
      const toggleLabel = document.querySelector('.toggle-label');
      
      if (displayToggle && toggleLabel) {
        displayToggle.addEventListener('change', function() {
          // Update the label text
          toggleLabel.textContent = this.checked ? 'On' : 'Off';
          
          // Create URL with updated showLabels parameter
          const url = new URL(window.location.href);
          url.searchParams.set('showLabels', this.checked ? 'true' : 'false');
          
          // Redirect to the new URL
          window.location.href = url.toString();
        });
      }
      
      // Initialize TOC highlight on scroll
      initTOCHighlight();
      
      // Make the TOC stay in view when scrolling
      window.addEventListener('scroll', function() {
        const toc = document.querySelector('.toc-sidebar');
        if (toc) {
          if (window.innerWidth > 992) { // Only apply this on larger screens
            const scrollPosition = window.scrollY;
            toc.style.top = (scrollPosition > 0) ? '0' : '';
          }
        }
      });
      
      // Smooth scrolling for anchor links
      document.querySelectorAll('.toc-list a, .toc-sublist a').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
          e.preventDefault();
          
          const targetId = this.getAttribute('href').substring(1);
          const targetElement = document.getElementById(targetId);
          
          if (targetElement) {
            window.scrollTo({
              top: targetElement.offsetTop - 20,
              behavior: 'smooth'
            });
            
            // Update URL without reload
            history.pushState(null, null, `#${targetId}`);
            
            // Highlight the clicked TOC item
            highlightTOCItem(this);
          }
        });
      });
      
      // Check for hash in URL on page load to scroll to section
      if (window.location.hash) {
        const targetId = window.location.hash.substring(1);
        const targetElement = document.getElementById(targetId);
        
        if (targetElement) {
          setTimeout(() => {
            window.scrollTo({
              top: targetElement.offsetTop - 20,
              behavior: 'auto'
            });
            
            // Find and highlight the corresponding TOC item
            const tocItem = document.querySelector(`.toc-list a[href="#${targetId}"], .toc-sublist a[href="#${targetId}"]`);
            if (tocItem) {
              highlightTOCItem(tocItem);
            }
          }, 100);
        }
      }
    });
    
    // Function to initialize filtering
    function initFilter(inputSelector, itemSelector) {
      const input = document.querySelector(inputSelector);
      if (!input) return;
      
      input.addEventListener('input', function() {
        const searchTerm = this.value.toLowerCase();
        const items = document.querySelectorAll(itemSelector);
        
        items.forEach(item => {
          // Check if item contains the search term
          const text = item.textContent.toLowerCase();
          
          if (searchTerm === '' || text.includes(searchTerm)) {
            item.style.display = '';
          } else {
            item.style.display = 'none';
          }
        });
      });
    }
    
    // Function to highlight active TOC item
    function highlightTOCItem(item) {
      // Remove active class from all TOC items
      document.querySelectorAll('.toc-list a, .toc-sublist a').forEach(link => {
        link.classList.remove('toc-active');
      });
      
      // Add active class to the clicked item
      item.classList.add('toc-active');
    }
    
    // Function to highlight TOC items based on scroll position
    function initTOCHighlight() {
      // Get all section elements
      const sections = document.querySelectorAll('h2[id], .entity-item[id]');
      
      // Observe sections visibility
      window.addEventListener('scroll', function() {
        let currentSection = '';
        const scrollPosition = window.scrollY;
        
        // Find the current section
        sections.forEach(section => {
          const sectionTop = section.offsetTop - 100;
          const sectionHeight = section.offsetHeight;
          
          if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
            currentSection = section.getAttribute('id');
          }
        });
        
        // Highlight the corresponding TOC item
        if (currentSection) {
          const tocItem = document.querySelector(`.toc-list a[href="#${currentSection}"], .toc-sublist a[href="#${currentSection}"]`);
          
          if (tocItem) {
            document.querySelectorAll('.toc-list a, .toc-sublist a').forEach(link => {
              link.classList.remove('toc-active');
            });
            
            tocItem.classList.add('toc-active');
            
            // If it's a subitem, also highlight its parent
            const parent = tocItem.closest('.toc-sublist');
            if (parent && parent.previousElementSibling) {
              parent.previousElementSibling.classList.add('toc-active');
            }
          }
        }
      });
    }
  </script>