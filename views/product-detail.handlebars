<!-- views/notor-detail.handlebars -->
<ul class="breadcrumbs">
  <li><a href="/?showLabels={{showLabels}}">Hem</a></li>
  <li><a href="/products?showLabels={{showLabels}}">Produkter</a></li>
  <li><a href="/products?type=notor&showLabels={{showLabels}}">Notor65 Produkter</a></li>
  <li>{{product.name}}</li>
</ul>

<h1>
  <span class="product-badge notor-badge">Notor65</span>
  {{product.name}}
</h1>

<div class="display-mode">
  <label for="displayToggle">Visa mänskligt läsbara etiketter:</label>
  <label class="switch">
    <input type="checkbox" id="displayToggle" {{#if showLabels}}checked{{/if}}>
    <span class="slider"></span>
  </label>
  <span class="display-mode-text">{{#if showLabels}}På{{else}}Av{{/if}}</span>
</div>

<div class="resource-container">
  <div class="resource-main">
    {{#if product.description}}
      <div class="resource-description">
        {{product.description}}
      </div>
    {{else}}
      <div class="resource-description">
        <p>Notor65 är en serie högpresterande belysningsprodukter med avancerad teknik för optimal belysning och energieffektivitet. Dessa produkter är designade för både kommersiella och privata miljöer.</p>
      </div>
    {{/if}}
    
    <div class="notor-product-card">
      <div class="notor-product-specs">
        <table class="specs-table">
          <tr>
            <th>Artikelnummer</th>
            <td>{{product.notorProperties.articleNumber}}</td>
          </tr>
          <tr>
            <th>Färg</th>
            <td>
              <div class="color-indicator {{product.notorProperties.color}}"></div>
              {{product.notorProperties.color}}
            </td>
          </tr>
          <tr>
            <th>Lumen Output</th>
            <td>{{product.notorProperties.lumenOutput}}</td>
          </tr>
          <tr>
            <th>Färgtemperatur (CCT)</th>
            <td>{{product.notorProperties.cct}}</td>
          </tr>
        </table>
      </div>
    </div>
    
    {{#if product.otherProperties.length}}
      <div class="property-group">
        <div class="property-group-header">Övriga egenskaper</div>
        <div class="property-group-content">
          <table class="property-table">
            {{#each product.otherProperties}}
              <tr>
                <td class="property-name">
                  {{#if (eq this.type "uri")}}
                    <a href="/resource?uri={{encodeURIComponent this.property}}&showLabels={{../showLabels}}">
                      {{#if ../showLabels}}
                        {{lookup ../labelMap this.property}}
                      {{else}}
                        {{this.property}}
                      {{/if}}
                    </a>
                  {{else}}
                    {{this.property}}
                  {{/if}}
                </td>
                <td>
                  {{#if (eq this.type "uri")}}
                    <a href="/resource?uri={{encodeURIComponent this.value}}&showLabels={{../showLabels}}">
                      {{#if ../showLabels}}
                        {{lookup ../labelMap this.value}}
                      {{else}}
                        {{this.value}}
                      {{/if}}
                    </a>
                  {{else}}
                    {{this.value}}
                  {{/if}}
                </td>
              </tr>
            {{/each}}
          </table>
        </div>
      </div>
    {{/if}}
  </div>
  
  <div class="resource-sidebar">
    <div class="sidebar-box">
      <div class="sidebar-box-header">Produktinformation</div>
      <div class="sidebar-box-content">
        <div class="resource-uri">
          <strong>URI:</strong> <code>{{product.uri}}</code>
        </div>
        
        <div class="product-type">
          <strong>Typ:</strong> Notor65
        </div>
      </div>
    </div>
    
    <div class="sidebar-box">
      <div class="sidebar-box-header">Relaterad ontologi</div>
      <div class="sidebar-box-content">
        <p>
          <a href="/ontology/detail?uri=http://www.ontologi2025.se/notor65&showLabels={{showLabels}}" class="btn" style="width: 100%;">
            Visa Notor65 Ontologi
          </a>
        </p>
      </div>
    </div>
    
    <div class="sidebar-box">
      <div class="sidebar-box-header">Åtgärder</div>
      <div class="sidebar-box-content">
        <p>
          <a href="/products?type=notor&showLabels={{showLabels}}" class="btn" style="width: 100%; margin-bottom: 8px;">Alla Notor65 produkter</a>
        </p>
        <p>
          <a href="/products?showLabels={{showLabels}}" class="btn" style="width: 100%; margin-bottom: 8px;">Alla produkter</a>
        </p>
        <p>
          <a href="/resource?uri={{encodeURIComponent product.uri}}&showLabels={{showLabels}}" class="btn" style="width: 100%; margin-bottom: 8px;">Visa som resurs</a>
        </p>
        <p>
          <a href="/query?showLabels={{showLabels}}" class="btn" style="width: 100%;">Kör anpassad SPARQL-fråga</a>
        </p>
      </div>
    </div>
  </div>
</div>

<style>
  /* Notor product styling */
  .notor-product-card {
    background-color: #f0f8ff;
    border: 1px solid #b3d7ff;
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 25px;
  }
  
  .specs-table {
    width: 100%;
    border-collapse: collapse;
  }
  
  .specs-table th, .specs-table td {
    padding: 12px;
    border-bottom: 1px solid #d0e5ff;
    text-align: left;
  }
  
  .specs-table th {
    width: 35%;
    font-weight: 600;
    color: #0066cc;
  }
  
  .color-indicator {
    display: inline-block;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    margin-right: 10px;
    vertical-align: middle;
    border: 1px solid #ccc;
  }
  
  .White {
    background-color: #ffffff;
  }
  
  .Black {
    background-color: #000000;
  }
  
  .Silver {
    background-color: #c0c0c0;
  }
  
  .Grey {
    background-color: #808080;
  }
  
  .product-badge {
    display: inline-block;
    padding: 5px 10px;
    border-radius: 4px;
    font-size: 14px;
    font-weight: bold;
    margin-right: 10px;
  }
  
  .notor-badge {
    background-color: #e9f5ff;
    color: #0066cc;
    border: 1px solid #b3d7ff;
  }
</style>